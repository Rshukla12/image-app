(()=>{"use strict";function e(e){const t=document.createElement("div"),n=document.createElement("img");return n.setAttribute("src",e.urls.regular),n.id=e.id,t.className="img-cont",t.append(n),t}const t=function(t,n){const o=document.getElementById(n),c=new DocumentFragment;for(let n=0;n<t.length-1;n++){const o=e(t[n]);c.append(o)}o.innerHTML=null,o.append(c),o.addEventListener("click",(()=>{(async e=>{try{const t=await(e=>{const t=`https://api.unsplash.com/photos/${e}?client_id=${"anjascnjalX48MPaqnN2xoEPi2SeDtTZrQPwRPkoWceaZjKi0ZD9ojnalncl".slice(10,53)}`;return fetch(t).then((e=>e.json())).catch((e=>console.log(e)))})(e),n=(e=>{const t=document.createElement("div"),n=document.createElement("img"),o=document.createElement("div"),c=document.createElement("h3"),a=document.createElement("h3"),r=document.createElement("h5");return t.id="img-details",o.id="detail",n.src=e.urls.full,c.textContent="Total Views - "+e.likes,a.textContent="Total Downloads - "+e.downloads,r.textContent=e.description,o.append(c,a,r),t.append(n,o),t})(t);document.body.append(n),document.body.addEventListener("click",(()=>{document.body.removeChild(n)})),console.log(t)}catch(e){console.log(e)}})(event.target.id)}))};async function n(){try{const e=document.querySelector("input").value,n="main",{results:o}=await function(e){const t=`https://api.unsplash.com/search/photos?client_id=${"anjascnjalX48MPaqnN2xoEPi2SeDtTZrQPwRPkoWceaZjKi0ZD9ojnalncl".slice(10,53)}&query=${e}`;return fetch(t).then((e=>e.json())).catch((e=>console.log(e)))}(e);t(o,n)}catch(e){console.log(e)}}const o=()=>{const e=event.target;"category"==e.parentNode.parentNode.id&&(document.querySelector("input").value=e.textContent,n())},c=["car","bike","truck","nature","tea","coffee","office","beach","mountain","sunrise","sunset","icecream","sun","moon","space","wallpaper"],a=()=>{document.querySelector("nav").append(function(){const e=document.createElement("div"),t=document.createElement("div"),n=function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("input"),o=document.createElement("div");return t.innerHTML="&#x1F50D;&#xFE0E",o.innerHTML="<h1>Search Images</h1>",n.placeholder="Type to search",e.id="search-bar",e.append(o,t,n),e}(),o=document.createElement("img"),c=function(){const e=["3D Renders","Architecture & Interior","Current Events","Experimental","Fashion","Film","Food & Drink","Health & Wellness","Nature","People","Street Photography"],t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),a=document.createElement("div");c.textContent="Editorial",a.textContent="Following",t.id="category",n.id="main-category",o.id="sub-category";for(const t of e){const e=document.createElement("div");e.textContent=t,o.append(e)}return n.append(c,a),t.append(n,o),t}();return e.id="navbar",e.append(t,n,o,c),e}());const e=document.querySelector("input");e.value=c[Math.floor(Math.random()*c.length)],n(),e.value="",e.onkeydown=function(){let e;return()=>{e&&clearTimeout(e),e=setTimeout((()=>{n()}),300)}}(),document.body.addEventListener("click",o)};window.addEventListener("load",(()=>{a()}))})();